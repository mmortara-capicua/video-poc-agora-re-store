{"version":3,"sources":["assets/images/ag-logo.png","components/AgoraVideoCall/index.jsx","assets/images/ag-login.png","serviceWorker.js","pages/chat/chat-iframe.jsx","utils/Settings.js","utils/Validator.js","pages/index/index.jsx","pages/meeting/index.jsx","agora.config.js","pages/App.jsx","index.js"],"names":["module","exports","tile_canvas","AgoraCanvas","props","streamInit","uid","attendeeMode","videoProfile","config","defaultConfig","streamID","audio","video","screen","stream","AgoraRTC","createStream","merge","setVideoProfile","subscribeStreamEvents","rt","client","on","evt","console","log","getId","Date","toLocaleTimeString","subscribe","err","removeStream","addStream","state","streamList","map","item","index","close","element","document","querySelector","parentNode","removeChild","tempList","splice","setState","push","repeatition","some","concat","handleCamera","e","currentTarget","classList","toggle","localStream","isVideoOn","disableVideo","enableVideo","handleMic","isAudioOn","disableAudio","enableAudio","switchDisplay","contains","length","displayMode","error","hideRemote","id","Array","from","querySelectorAll","style","display","handleExit","unpublish","leave","readyState","window","location","hash","shareClient","shareStream","$","this","createClient","mode","transcode","init","appId","join","channel","publish","canvas","btnGroup","addEventListener","global","_toolbarToggle","clearTimeout","add","setTimeout","remove","no","dom","createElement","setAttribute","appendChild","play","player","resize","videoControlBtn","onClick","className","title","audioControlBtn","switchDisplayBtn","hideRemoteBtn","exitBtn","gridGap","alignItems","justifyItems","gridTemplateRows","gridTemplateColumns","React","Component","Boolean","hostname","match","IframePage","src","RESOLUTION_ARR","value","test","Index","handleChannel","val","joinBtn","handleJoin","Cookies","baseMode","keyCode","require","alt","onChange","placeholder","onRadioChange","onSelectChange","target","type","name","defaultChecked","disabled","href","InputChannel","validate","errorMsg","Validator","trim","handleChange","validateIcon","onInput","BaseOptions","handleSelect","msg","label","_options","content","active","message","options","key","aria-haspopup","aria-controls","aria-hidden","role","AdvancedOptions","handleRadio","Object","entries","split","defaultValue","Meeting","undefined","alert","AgoraVideoCall","App","exact","path","component","obj","ownProps","keys","i","resArray","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.e7a8f100.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ag-logo.c9b3e104.png\";","import React from 'react'\nimport { merge } from 'lodash'\nimport AgoraRTC from 'agora-rtc-sdk'\n\nimport './canvas.css'\nimport '../../assets/fonts/css/icons.css'\n\nconst tile_canvas = {\n  '1': ['span 12/span 24'],\n  '2': ['span 12/span 12/13/25', 'span 12/span 12/13/13'],\n  '3': ['span 6/span 12', 'span 6/span 12', 'span 6/span 12/7/19'],\n  '4': ['span 6/span 12', 'span 6/span 12', 'span 6/span 12', 'span 6/span 12/7/13'],\n  '5': ['span 3/span 4/13/9', 'span 3/span 4/13/13', 'span 3/span 4/13/17', 'span 3/span 4/13/21', 'span 9/span 16/10/21'],\n  '6': ['span 3/span 4/13/7', 'span 3/span 4/13/11', 'span 3/span 4/13/15', 'span 3/span 4/13/19', 'span 3/span 4/13/23', 'span 9/span 16/10/21'],\n  '7': ['span 3/span 4/13/5', 'span 3/span 4/13/9', 'span 3/span 4/13/13', 'span 3/span 4/13/17', 'span 3/span 4/13/21', 'span 3/span 4/13/25', 'span 9/span 16/10/21'],\n}\n\n\n/**\n * @prop appId uid\n * @prop transcode attendeeMode videoProfile channel baseMode\n */\nclass AgoraCanvas extends React.Component {\n  constructor(props) {\n    super(props)\n    this.client = {}\n    this.localStream = {}\n    this.shareClient = {}\n    this.shareStream = {}\n    this.state = {\n      displayMode: 'pip',\n      streamList: [],\n      readyState: false\n    }\n  }\n\n  componentWillMount() {\n    let $ = this.props\n    // init AgoraRTC local client\n    this.client = AgoraRTC.createClient({ mode: $.transcode })\n    this.client.init($.appId, () => {\n      console.log(\"AgoraRTC client initialized\")\n      this.subscribeStreamEvents()\n      this.client.join($.appId, $.channel, $.uid, (uid) => {\n        console.log(\"User \" + uid + \" join channel successfully\")\n        console.log('At ' + new Date().toLocaleTimeString())\n        // create local stream\n        // It is not recommended to setState in function addStream\n        this.localStream = this.streamInit(uid, $.attendeeMode, $.videoProfile)\n        this.localStream.init(() => {\n          if ($.attendeeMode !== 'audience') {\n            this.addStream(this.localStream, true)\n            this.client.publish(this.localStream, err => {\n              console.log(\"Publish local stream error: \" + err);\n            })\n          }\n          this.setState({ readyState: true })\n        },\n          err => {\n            console.log(\"getUserMedia failed\", err)\n            this.setState({ readyState: true })\n          })\n      })\n    })\n  }\n\n  componentDidMount() {\n    // add listener to control btn group\n    let canvas = document.querySelector('#ag-canvas')\n    let btnGroup = document.querySelector('.ag-btn-group')\n    canvas.addEventListener('mousemove', () => {\n      if (global._toolbarToggle) {\n        clearTimeout(global._toolbarToggle)\n      }\n      btnGroup.classList.add('active')\n      global._toolbarToggle = setTimeout(function () {\n        btnGroup.classList.remove('active')\n      }, 2000)\n    })\n  }\n\n  // componentWillUnmount () {\n  //     // remove listener\n  //     let canvas = document.querySelector('#ag-canvas')\n  //     canvas.removeEventListener('mousemove')\n  // }\n\n  componentDidUpdate() {\n    // rerendering\n    let canvas = document.querySelector('#ag-canvas')\n    // pip mode (can only use when less than 4 people in channel)\n    if (this.state.displayMode === 'pip') {\n      let no = this.state.streamList.length\n      if (no > 4) {\n        this.setState({ displayMode: 'tile' })\n        return\n      }\n      this.state.streamList.map((item, index) => {\n        let id = item.getId()\n        let dom = document.querySelector('#ag-item-' + id)\n        if (!dom) {\n          dom = document.createElement('section')\n          dom.setAttribute('id', 'ag-item-' + id)\n          dom.setAttribute('class', 'ag-item')\n          canvas.appendChild(dom)\n          item.play('ag-item-' + id)\n        }\n        if (index === no - 1) {\n          dom.setAttribute('style', `grid-area: span 12/span 24/13/25`)\n        }\n        else {\n          dom.setAttribute('style', `grid-area: span 3/span 4/${4 + 3 * index}/25;\n                    z-index:1;width:calc(100% - 20px);height:calc(100% - 20px)`)\n        }\n\n        item.player.resize && item.player.resize()\n\n\n      })\n    }\n    // tile mode\n    else if (this.state.displayMode === 'tile') {\n      let no = this.state.streamList.length\n      this.state.streamList.map((item, index) => {\n        let id = item.getId()\n        let dom = document.querySelector('#ag-item-' + id)\n        if (!dom) {\n          dom = document.createElement('section')\n          dom.setAttribute('id', 'ag-item-' + id)\n          dom.setAttribute('class', 'ag-item')\n          canvas.appendChild(dom)\n          item.play('ag-item-' + id)\n        }\n        dom.setAttribute('style', `grid-area: ${tile_canvas[no][index]}`)\n        item.player.resize && item.player.resize()\n\n\n      })\n    }\n    // screen share mode (tbd)\n    else if (this.state.displayMode === 'share') {\n\n    }\n  }\n\n  componentWillUnmount () {\n    this.client && this.client.unpublish(this.localStream)\n    this.localStream && this.localStream.close()\n    this.client && this.client.leave(() => {\n      console.log('Client succeed to leave.')\n    }, () => {\n      console.log('Client failed to leave.')\n    })\n  }\n\n  streamInit = (uid, attendeeMode, videoProfile, config) => {\n    let defaultConfig = {\n      streamID: uid,\n      audio: true,\n      video: true,\n      screen: false\n    }\n\n    switch (attendeeMode) {\n      case 'audio-only':\n        defaultConfig.video = false\n        break;\n      case 'audience':\n        defaultConfig.video = false\n        defaultConfig.audio = false\n        break;\n      default:\n      case 'video':\n        break;\n    }\n\n    let stream = AgoraRTC.createStream(merge(defaultConfig, config))\n    stream.setVideoProfile(videoProfile)\n    return stream\n  }\n\n  subscribeStreamEvents = () => {\n    let rt = this\n    rt.client.on('stream-added', function (evt) {\n      let stream = evt.stream\n      console.log(\"New stream added: \" + stream.getId())\n      console.log('At ' + new Date().toLocaleTimeString())\n      console.log(\"Subscribe \", stream)\n      rt.client.subscribe(stream, function (err) {\n        console.log(\"Subscribe stream failed\", err)\n      })\n    })\n\n    rt.client.on('peer-leave', function (evt) {\n      console.log(\"Peer has left: \" + evt.uid)\n      console.log(new Date().toLocaleTimeString())\n      console.log(evt)\n      rt.removeStream(evt.uid)\n    })\n\n    rt.client.on('stream-subscribed', function (evt) {\n      let stream = evt.stream\n      console.log(\"Got stream-subscribed event\")\n      console.log(new Date().toLocaleTimeString())\n      console.log(\"Subscribe remote stream successfully: \" + stream.getId())\n      console.log(evt)\n      rt.addStream(stream)\n    })\n\n    rt.client.on(\"stream-removed\", function (evt) {\n      let stream = evt.stream\n      console.log(\"Stream removed: \" + stream.getId())\n      console.log(new Date().toLocaleTimeString())\n      console.log(evt)\n      rt.removeStream(stream.getId())\n    })\n  }\n\n  removeStream = (uid) => {\n    this.state.streamList.map((item, index) => {\n      if (item.getId() === uid) {\n        item.close()\n        let element = document.querySelector('#ag-item-' + uid)\n        if (element) {\n          element.parentNode.removeChild(element)\n        }\n        let tempList = [...this.state.streamList]\n        tempList.splice(index, 1)\n        this.setState({\n          streamList: tempList\n        })\n      }\n\n    })\n  }\n\n  addStream = (stream, push = false) => {\n    let repeatition = this.state.streamList.some(item => {\n      return item.getId() === stream.getId()\n    })\n    if (repeatition) {\n      return\n    }\n    if (push) {\n      this.setState({\n        streamList: this.state.streamList.concat([stream])\n      })\n    }\n    else {\n      this.setState({\n        streamList: [stream].concat(this.state.streamList)\n      })\n    }\n\n  }\n\n  handleCamera = (e) => {\n    e.currentTarget.classList.toggle('off')\n    this.localStream.isVideoOn() ?\n      this.localStream.disableVideo() : this.localStream.enableVideo()\n  }\n\n  handleMic = (e) => {\n    e.currentTarget.classList.toggle('off')\n    this.localStream.isAudioOn() ?\n      this.localStream.disableAudio() : this.localStream.enableAudio()\n  }\n\n  switchDisplay = (e) => {\n    if (e.currentTarget.classList.contains('disabled') || this.state.streamList.length <= 1) {\n      return\n    }\n    if (this.state.displayMode === 'pip') {\n      this.setState({ displayMode: 'tile' })\n    }\n    else if (this.state.displayMode === 'tile') {\n      this.setState({ displayMode: 'pip' })\n    }\n    else if (this.state.displayMode === 'share') {\n      // do nothing or alert, tbd\n    }\n    else {\n      console.error('Display Mode can only be tile/pip/share')\n    }\n  }\n\n  hideRemote = (e) => {\n    if (e.currentTarget.classList.contains('disabled') || this.state.streamList.length <= 1) {\n      return\n    }\n    let list\n    let id = this.state.streamList[this.state.streamList.length - 1].getId()\n    list = Array.from(document.querySelectorAll(`.ag-item:not(#ag-item-${id})`))\n    list.map(item => {\n      if (item.style.display !== 'none') {\n        item.style.display = 'none'\n      }\n      else {\n        item.style.display = 'block'\n      }\n    })\n\n  }\n\n  handleExit = (e) => {\n    if (e.currentTarget.classList.contains('disabled')) {\n      return\n    }\n    try {\n      this.client && this.client.unpublish(this.localStream)\n      this.localStream && this.localStream.close()\n      this.client && this.client.leave(() => {\n        console.log('Client succeed to leave.')\n      }, () => {\n        console.log('Client failed to leave.')\n      })\n    }\n    finally {\n      this.setState({ readyState: false })\n      this.client = null\n      this.localStream = null\n      // redirect to index\n      window.location.hash = ''\n    }\n  }\n\n  render() {\n    const style = {\n      display: 'grid',\n      gridGap: '10px',\n      alignItems: 'center',\n      justifyItems: 'center',\n      gridTemplateRows: 'repeat(12, auto)',\n      gridTemplateColumns: 'repeat(24, auto)'\n    }\n    const videoControlBtn = this.props.attendeeMode === 'video' ?\n      (<span\n        onClick={this.handleCamera}\n        className=\"ag-btn videoControlBtn\"\n        title=\"Enable/Disable Video\">\n        <i className=\"ag-icon ag-icon-camera\"></i>\n        <i className=\"ag-icon ag-icon-camera-off\"></i>\n      </span>) : ''\n\n    const audioControlBtn = this.props.attendeeMode !== 'audience' ?\n      (<span\n        onClick={this.handleMic}\n        className=\"ag-btn audioControlBtn\"\n        title=\"Enable/Disable Audio\">\n        <i className=\"ag-icon ag-icon-mic\"></i>\n        <i className=\"ag-icon ag-icon-mic-off\"></i>\n      </span>) : ''\n\n    const switchDisplayBtn = (\n      <span\n        onClick={this.switchDisplay}\n        className={this.state.streamList.length > 4 ? \"ag-btn displayModeBtn disabled\" : \"ag-btn displayModeBtn\"}\n        title=\"Switch Display Mode\">\n        <i className=\"ag-icon ag-icon-switch-display\"></i>\n      </span>\n    )\n    const hideRemoteBtn = (\n      <span\n        className={this.state.streamList.length > 4 || this.state.displayMode !== 'pip' ? \"ag-btn disableRemoteBtn disabled\" : \"ag-btn disableRemoteBtn\"}\n        onClick={this.hideRemote}\n        title=\"Hide Remote Stream\">\n        <i className=\"ag-icon ag-icon-remove-pip\"></i>\n      </span>\n    )\n    const exitBtn = (\n      <span\n        onClick={this.handleExit}\n        className={this.state.readyState ? 'ag-btn exitBtn' : 'ag-btn exitBtn disabled'}\n        title=\"Exit\">\n        <i className=\"ag-icon ag-icon-leave\"></i>\n      </span>\n    )\n\n    return (\n      <div id=\"ag-canvas\" style={style}>\n        <div className=\"ag-btn-group\">\n          {exitBtn}\n          {videoControlBtn}\n          {audioControlBtn}\n          {/* <span className=\"ag-btn shareScreenBtn\" title=\"Share Screen\">\n                        <i className=\"ag-icon ag-icon-screen-share\"></i>\n                    </span> */}\n          {switchDisplayBtn}\n          {hideRemoteBtn}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default AgoraCanvas","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAPCAYAAAGega+EAAAABGdBTUEAALGPC/xhBQAAASFJREFUOBHNk71qAkEUhR3jDwGFpLGSCBaCjZB0VoEQErAWHyMvYKFWiiD4LFaWFmmCnW9gmyZlcCBsvqM7G2aDu9p54XDn3HPu3ZnZ3UyGCIJgBG60GIQFa1QV+Qsnuwrc7tcSwAcYgpJ6Jyg750zPaplhuwZ3YK3NzJP60L+zGL6STGhXMhVTTPlIZ2wnIizgNce1yUfIkyvE8q0x5k0d/ZjgUfSy9lTwqv/JTqbUONl0eFXH5xV1uhf0dui5J1fBBmyB5XRj8iEwt9xaGd5zXJNeIQswBGknxeJFA9bkaQ+aOgCxD9EzJxJ6LSicdEuJk0Lx8gbl2NkKLHVW8rmX/UxPnsu2hoUXDOxSmIIf8A4qQH/1J9D3UQczmvW3R/ELvLZ7YNQHvpUAAAAASUVORK5CYII=\"","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { MDBContainer, MDBIframe } from \"mdbreact\";\n\nimport React from \"react\";\n\nconst IframePage = () => {\n  return (\n    <MDBContainer className=\"text-center\">\n      <MDBIframe src=\"http://localhost:8080\" />\n    </MDBContainer>\n  );\n}\n\nexport default IframePage;","export const RESOLUTION_ARR = {\n  '120p,120p_1': [160, 120, 15, 65],\n  '120p_3': [120, 120, 15, 50],\n  '180p,180p_1': [320, 180, 15, 140],\n  '180p_3': [180, 180, 15, 100],\n  '180p_4': [240, 180, 15, 120],\n  '240p,240p_1': [320, 240, 15, 200],\n  '240p_3': [240, 240, 15, 140],\n  '240p_4': [424, 240, 15, 220],\n  '360p,360p_1': [640, 360, 15, 400],\n  '360p_3': [360, 360, 15, 260],\n  '360p_4': [640, 360, 30, 600],\n  '360p_6': [360, 360, 30, 400],\n  '360p_7': [480, 360, 15, 320],\n  '360p_8': [480, 360, 30, 490],\n  '360p_9': [640, 360, 15, 800],\n  '360p_10': [640, 360, 24, 800],\n  '360p_11': [640, 360, 24, 1000],\n  '480p,480p_1': [640, 480, 15, 500],\n  '480p_2': [640, 480, 30, 1000],\n  '480p_3': [480, 480, 15, 400],\n  '480p_4': [640, 480, 30, 750],\n  '480p_6': [480, 480, 30, 600],\n  '480p_8': [848, 480, 15, 610],\n  '480p_9': [848, 480, 30, 930],\n  '480p_10': [640, 480, 10, 400],\n  '720p,720p_1': [1280, 720, 15, 1130],\n  '720p_2': [1280, 720, 15, 2080],\n  '720p_3': [1280, 720, 30, 1710],\n  '720p_5': [960, 720, 15, 910],\n  '720p_6': [960, 720, 30, 1380],\n  '1080p,1080p_1': [1920, 1080, 15, 2080],\n  '1080p_2': [1920, 1080, 30, 3000],\n  '1080p_3': [1920, 1080, 30, 3150],\n  '1080p_5': [1920, 1080, 60, 4780],\n  '1440p,1440p_1': [2560, 1440, 30, 4850],\n  '1440p_2': [2560, 1440, 60, 7350],\n  '4k,4k_1': [3840, 2160, 30, 8910],\n  '4k_3': [3840, 2160, 60, 13500],\n}\n\nexport const SHARE_ID = 1","export default {\n  minLength(value, length) {\n    return value.length < length ?\n      1 : 0\n  },\n  maxLength(value, length) {\n    return value.length > length ?\n      1 : 0\n  },\n  validChar(value) {\n    // eslint-disable-next-line no-useless-escape\n    return !/^[0-9a-zA-Z\\_]+$/.test(value) ?\n      1 : 0\n  },\n  isNonEmpty(value) {\n    return value === '' ?\n      1 : 0\n  }\n}","import '../../assets/fonts/css/icons.css'\nimport './index.css'\n\nimport * as Cookies from 'js-cookie'\n\nimport { RESOLUTION_ARR } from '../../utils/Settings'\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React from 'react'\nimport Validator from '../../utils/Validator'\n\nclass Index extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      joinBtn: false,\n      channel: '',\n      baseMode: 'avc',\n      transcode: 'interop',\n      attendeeMode: 'video',\n      videoProfile: '480p_4',\n\n    }\n  }\n\n  componentDidMount() {\n    window.addEventListener('keypress', (e) => {\n      e.keyCode === 13 && this.handleJoin()\n    })\n  }\n\n  /**\n   * \n   * @param {String} val 0-9 a-z A-Z _ only \n   * @param {Boolean} state \n   */\n  handleChannel = (val, state) => {\n    this.setState({\n      channel: val,\n      joinBtn: state\n    })\n  }\n\n  handleJoin = () => {\n    if (!this.state.joinBtn) {\n      return\n    }\n    console.log(this.state)\n    Cookies.set('channel', this.state.channel)\n    Cookies.set('baseMode', this.state.baseMode)\n    Cookies.set('transcode', this.state.transcode)\n    Cookies.set('attendeeMode', this.state.attendeeMode)\n    Cookies.set('videoProfile', this.state.videoProfile)\n    window.location.hash = \"meeting\"\n  }\n\n  render() {\n    return (\n      <div className=\"wrapper index\">\n        <div className=\"ag-header\"></div>\n        <div className=\"ag-main\">\n          <section className=\"login-wrapper\">\n            <div className=\"login-header\">\n              <img src={require('../../assets/images/ag-logo.png')} alt=\"\" />\n              {/* <p className=\"login-title\">AgoraWeb v2.1</p> */}\n              <p className=\"login-subtitle\">Powering Real-Time Communications</p>\n            </div>\n            <div className=\"login-body\">\n              <div className=\"columns\">\n                <div className=\"column is-12\">\n                  <InputChannel onChange={this.handleChannel} placeholder=\"Input a room name here\"></InputChannel>\n                </div>\n              </div>\n              <div className=\"columns\">\n                <div className=\"column is-7\">\n                  <BaseOptions\n                    onChange={val => this.setState({ baseMode: val })}>\n                  </BaseOptions>\n                </div>\n                <div className=\"column is-5\">\n                  <AdvancedOptions\n                    onRadioChange={val => this.setState({ transcode: val })}\n                    onSelectChange={val => this.setState({ videoProfile: val })}>\n                  </AdvancedOptions>\n                </div>\n              </div>\n              <div className=\"columns\">\n                <div className=\"column\">\n                  <div id=\"attendeeMode\" className=\"control\">\n                    <label className=\"radio\">\n                      <input onChange={e => this.setState({ attendeeMode: e.target.value })}\n                        value=\"video\" type=\"radio\"\n                        name=\"attendee\" defaultChecked />\n                      <span className=\"radio-btn\">\n                      </span>\n                      <span className=\"radio-img video\">\n                      </span>\n                      <span className=\"radio-msg\">Video Call : join with video call</span>\n                    </label>\n                    <br />\n                    <label className=\"radio\">\n                      <input onChange={e => this.setState({ attendeeMode: e.target.value })}\n                        value=\"audio-only\" type=\"radio\"\n                        name=\"attendee\" />\n                      <span className=\"radio-btn\">\n                      </span>\n                      <span className=\"radio-img audio\">\n                      </span>\n                      <span className=\"radio-msg\">Audio-only : join with audio call</span>\n                    </label>\n                    <br />\n                    <label className=\"radio\">\n                      <input onChange={e => this.setState({ attendeeMode: e.target.value })}\n                        value=\"audience\" type=\"radio\"\n                        name=\"attendee\" />\n                      <span className=\"radio-btn\">\n                      </span>\n                      <span className=\"radio-img audience\">\n                      </span>\n                      <span className=\"radio-msg\">Audience : join as an audience</span>\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"login-footer\">\n              <a id=\"joinBtn\"\n                onClick={this.handleJoin}\n                disabled={!this.state.joinBtn}\n                className=\"ag-rounded button is-info\">Join\n                  </a>\n            </div>\n          </section>\n        </div>\n        <div className=\"ag-footer\">\n          <a className=\"ag-href\" href=\"https://www.agora.io\">\n            <span>Powered By Agora</span>\n          </a>\n          <div>\n            <span>Interested in Agora video call SDK? Contact </span>\n            <span className=\"ag-contact\">sales@agora.io</span>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass InputChannel extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      errorMsg: '',\n      state: ''\n    }\n  }\n\n  validate = (val) => {\n    this.setState({\n      state: '',\n      errorMsg: ''\n    })\n    if (Validator.isNonEmpty(val.trim())) {\n      this.setState({\n        errorMsg: 'Cannot be empty!',\n        state: 'is-danger'\n      })\n      return false\n    }\n    else if (Validator.minLength(val.trim(), 1)) {\n      this.setState({\n        errorMsg: 'No shorter than 1!',\n        state: 'is-danger'\n      })\n      return false\n    }\n    else if (Validator.maxLength(val.trim(), 16)) {\n      this.setState({\n        errorMsg: 'No longer than 16!',\n        state: 'is-danger'\n      })\n      return false\n    }\n    else if (Validator.validChar(val.trim())) {\n      this.setState({\n        state: 'is-danger',\n        errorMsg: 'Only capital or lower-case letter, number and \"_\" are permitted!'\n      })\n      return false\n    }\n    else {\n      this.setState({\n        state: 'is-success'\n      })\n      return true\n    }\n  }\n\n  handleChange = (e) => {\n    let state = this.validate(e.target.value)\n    this.props.onChange(e.target.value, state)\n  }\n\n  render() {\n    let validateIcon = ''\n    switch (this.state.state) {\n      default:\n      case '':\n        validateIcon = ''; break;\n      case 'is-success':\n        validateIcon = (<i className=\"ag-icon ag-icon-valid\"></i>); break;\n      case 'is-danger':\n        validateIcon = (<i className=\"ag-icon ag-icon-invalid\"></i>); break;\n    }\n\n    return (\n      <div className=\"channel-wrapper control has-icons-left\">\n        <input onInput={this.handleChange}\n          id=\"channel\"\n          className={'ag-rounded input ' + this.state.state}\n          type=\"text\"\n          placeholder={this.props.placeholder} />\n        <span className=\"icon is-small is-left\">\n          <img src={require('../../assets/images/ag-login.png')} alt=\"\" />\n        </span>\n        <span className=\"validate-icon\">\n          {validateIcon}\n        </span>\n        <div className=\"validate-msg\">\n          {this.state.errorMsg}\n        </div>\n      </div>\n    )\n  }\n}\n\nclass BaseOptions extends React.Component {\n  constructor(props) {\n    super(props)\n    this._options = [\n      {\n        label: 'Agora Video Call',\n        value: 'avc',\n        content: 'One to one and group calls'\n      },\n      {\n        label: 'Agora Live',\n        value: 'al',\n        content: 'Enabling real-time interactions between the host and the audience'\n      }\n    ]\n    this.state = {\n      active: false,\n      message: 'Agora Video Call',\n\n    }\n  }\n\n  handleSelect = (item) => {\n    let msg = item.label\n    let val = item.value\n    this.setState({\n      'message': msg,\n      'active': false\n    })\n    this.props.onChange(val)\n  }\n\n  render() {\n    const options = this._options.map((item, index) => {\n      return (\n        <div className=\"dropdown-item\"\n          key={index}\n          onClick={(e) => this.handleSelect(item, e)}>\n          <p>{item.label}</p>\n          <hr />\n          <p>{item.content}</p>\n        </div>\n      )\n    })\n\n    return (\n      <div className={this.state.active ? 'dropdown is-active' : 'dropdown'}>\n        <div className=\"dropdown-trigger\"\n          onClick={() => this.setState({ 'active': !this.state.active })}>\n          <a id=\"baseMode\" className=\"ag-rounded button\" aria-haspopup=\"true\" aria-controls=\"baseModeOptions\">\n            <span id=\"baseOptionLabel\">{this.state.message}</span>\n            <span className=\"icon is-small\">\n              <i className=\"ag-icon ag-icon-arrow-down\" aria-hidden=\"true\"></i>\n            </span>\n          </a>\n        </div>\n        <div className=\"dropdown-menu\" id=\"baseModeOptions\" role=\"menu\">\n          <div className=\"dropdown-content\">\n            {options}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass AdvancedOptions extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      active: false,\n    }\n  }\n\n  handleRadio = (e) => {\n    this.props.onRadioChange(e.target.value)\n  }\n\n  handleSelect = (e) => {\n    this.props.onSelectChange(e.target.value)\n  }\n\n  render() {\n    const options = Object.entries(RESOLUTION_ARR).map((item, index) => {\n      return (\n        <option key={index} value={item[0].split(\",\")[0]}>{item[1][0]}x {item[1][1]}, {item[1][2]}fps, {item[1][3]}kbps</option>\n      )\n    })\n    return (\n      <div className={this.state.active ? 'dropdown is-active' : 'dropdown'}>\n        <div className=\"dropdown-trigger\"\n          onClick={() => this.setState({ 'active': !this.state.active })}>\n          <a id=\"advancedProfile\" className=\"ag-rounded button\" aria-haspopup=\"true\" aria-controls=\"advancedOptions\">\n            <span>Advanced</span>\n          </a>\n        </div>\n        <div className=\"dropdown-menu\" id=\"advancedOptions\" role=\"menu\">\n          <div className=\"dropdown-content\">\n            <div className=\"dropdown-item\">\n              <div className=\"control\">\n                <label className=\"radio\">\n                  <input value=\"\" type=\"radio\" name=\"transcode\" onChange={this.handleRadio} />\n                  <span>VP8-only</span>\n                </label>\n                <label className=\"radio\">\n                  <input value=\"interop\" type=\"radio\" defaultChecked onChange={this.handleRadio} name=\"transcode\" />\n                  <span>VP8 &amp; H264</span>\n                </label>\n                <label className=\"radio\">\n                  <input value=\"h264_interop\" type=\"radio\" onChange={this.handleRadio} name=\"transcode\" />\n                  <span>H264-only</span>\n                </label>\n              </div>\n            </div>\n            <div className=\"dropdown-item\">\n              <div className=\"select is-rounded\">\n                <select onChange={this.handleSelect} defaultValue=\"480p_4\" id=\"videoProfile\" className=\"ag-rounded is-clipped\">\n                  {options}\n                </select>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Index","import './meeting.css';\n\nimport * as Cookies from 'js-cookie';\n\nimport { AGORA_APP_ID } from '../../agora.config';\nimport AgoraVideoCall from '../../components/AgoraVideoCall';\nimport React from 'react';\n\nclass Meeting extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.videoProfile = Cookies.get('videoProfile').split(',')[0] || '480p_4';\n\t\tthis.channel = Cookies.get('channel') || 'test';\n\t\tthis.transcode = Cookies.get('transcode') || 'interop';\n\t\tthis.attendeeMode = Cookies.get('attendeeMode') || 'video';\n\t\tthis.baseMode = Cookies.get('baseMode') || 'avc';\n\t\tthis.appId = AGORA_APP_ID;\n\t\tif (!this.appId) {\n\t\t\treturn alert('Get App ID first!');\n\t\t}\n\t\tthis.uid = undefined;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"wrapper meeting\">\n\t\t\t\t<div className=\"ag-header\">\n\t\t\t\t\t<div className=\"ag-header-lead\">\n\t\t\t\t\t\t<img className=\"header-logo\" src={require('../../assets/images/ag-logo.png')} alt=\"\" />\n\t\t\t\t\t\t<span>RE:STORE DEMO ALPHA</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"ag-header-msg\">\n\t\t\t\t\t\tRoom:&nbsp;<span id=\"room-name\">{this.channel}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"ag-main\">\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<div className=\"ag-container\">\n\t\t\t\t\t\t\t<AgoraVideoCall\n\t\t\t\t\t\t\t\tvideoProfile={this.videoProfile}\n\t\t\t\t\t\t\t\tchannel={this.channel}\n\t\t\t\t\t\t\t\ttranscode={this.transcode}\n\t\t\t\t\t\t\t\tattendeeMode={this.attendeeMode}\n\t\t\t\t\t\t\t\tbaseMode={this.baseMode}\n\t\t\t\t\t\t\t\tappId={this.appId}\n\t\t\t\t\t\t\t\tuid={this.uid}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"ag-footer\">\n\t\t\t\t\t<a className=\"ag-href\" href=\"https://www.agora.io\">\n\t\t\t\t\t\t<span>Powered By Agora</span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<span>Talk to Support: 400 632 6626</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Meeting;\n","export const AGORA_APP_ID = '17052f7d2b644181b159941ed0833d22' // set your app id here","import 'bulma/css/bulma.css'\nimport './App.css'\n\nimport React, { Component } from 'react'\nimport { Route, HashRouter as Router } from 'react-router-dom'\n\nimport IframePage from './chat/chat-iframe'\nimport Index from './index'\nimport Meeting from './meeting'\n\nclass App extends Component {\n  render() {\n    return (\n      <Router>\n        <div className=\"full\">\n          <Route exact path=\"/\" component={Index} />\n          <Route path=\"/meeting\" component={Meeting} />\n        </div>\n        <IframePage />\n      </Router>\n    )\n  }\n}\n\nexport default App\n","import * as serviceWorker from './serviceWorker';\n\nimport App from './pages/App';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst polyfill = (() => {\n  // Object.entries\n  if (!Object.entries)\n  Object.entries = function( obj ){\n    var ownProps = Object.keys( obj ),\n        i = ownProps.length,\n        resArray = new Array(i); // preallocate the Array\n    while (i--)\n      resArray[i] = [ownProps[i], obj[ownProps[i]]];\n    \n    return resArray;\n  }\n})();\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}